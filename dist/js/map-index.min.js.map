{"version":3,"sources":["map-index.js"],"names":["createMarker","workers","i","len","length","point","BMap","Point","Longitude","Latitude","icon","Icon","WORK_MAN","Size","marker","Marker","map","addOverlay","manOrwoman","Gender","flag","DisplayAttribute","opts","position","htm1","label","Label","setStyle","border","backgroundColor","marginLeft","marginTop","setLabel","htm2","htm3_0","htm3_1","htm4","htm5","htm6","htm0","getData","data","$","ajax","method","url","PATH","success","res","console","log","Body","Workers","num","parseInt","Math","random"],"mappings":"AAEA,QAASA,cAAaC,GAErB,IAAI,GAAIC,GAAE,EAAEC,EAAIF,EAAQG,OAAOF,EAAEC,EAAID,IAAI,CACxC,GAAIG,GAAQ,GAAIC,MAAKC,MAAMN,EAAQC,GAAGM,UAAUP,EAAQC,GAAGO,UACvDC,EAAO,GAAIJ,MAAKK,KAAKC,SAAS,GAAIN,MAAKO,KAAK,GAAG,KAC/CC,EAAS,GAAIR,MAAKS,OAAOV,GAAOK,KAAKA,GACzCM,KAAIC,WAAWH,EAET,IAAII,GAAajB,EAAQC,GAAGiB,OACxBC,EAAOnB,EAAQC,GAAGmB,iBAElBC,GACAC,SAASlB,EAOb,QAAQe,GACJ,IAAK,GACD,GAAII,GAAO,kGAIPC,EAAQ,GAAInB,MAAKoB,MAAMF,EAAKF,EAChCG,GAAME,UACFC,OAAO,EACPC,gBAAgB,gBAChBC,WAAW,QACXC,UAAU,UAEdjB,EAAOkB,SAASP,EAChB,MACJ,KAAK,GACD,GAAIQ,GAAO,kGAIPR,EAAQ,GAAInB,MAAKoB,MAAMO,EAAKX,EAChCG,GAAME,UACFC,OAAO,EACPC,gBAAgB,gBAChBC,WAAW,QACXC,UAAU,UAEdjB,EAAOkB,SAASP,EAChB,MACJ,KAAK,GACD,GAAkB,MAAfP,EACC,GAAIgB,GAAS,mGAITT,EAAQ,GAAInB,MAAKoB,MAAMQ,EAAOZ,OAElC,IAAIa,GAAS,mGAITV,EAAQ,GAAInB,MAAKoB,MAAMS,EAAOb,EAEtCG,GAAME,UACFC,OAAO,EACPC,gBAAgB,gBAChBC,WAAW,QACXC,UAAU,UAEdjB,EAAOkB,SAASP,EAChB,MACJ,KAAK,GACD,GAAIW,GAAO,sGAIPX,EAAQ,GAAInB,MAAKoB,MAAMU,EAAKd,EAChCG,GAAME,UACFC,OAAO,EACPC,gBAAgB,gBAChBC,WAAW,QACXC,UAAU,UAEdjB,EAAOkB,SAASP,EAChB,MACJ,KAAK,GACD,GAAIY,GAAO,qGAIPZ,EAAQ,GAAInB,MAAKoB,MAAMW,EAAKf,EAChCG,GAAME,UACFC,OAAO,EACPC,gBAAgB,gBAChBC,WAAW,QACXC,UAAU,UAEdjB,EAAOkB,SAASP,EAChB,MACJ,KAAK,GACD,GAAIa,GAAO,mGAIPb,EAAQ,GAAInB,MAAKoB,MAAMY,EAAKhB,EAChCG,GAAME,UACFC,OAAO,EACPC,gBAAgB,gBAChBC,WAAW,QACXC,UAAU,UAEdjB,EAAOkB,SAASP,EAChB,MACJ,SACI,GAAIc,GAAO,kDAIPd,EAAQ,GAAInB,MAAKoB,MAAMa,EAAKjB,EAChCG,GAAME,UACFC,OAAO,EACPC,gBAAgB,gBAChBC,WAAW,QACXC,UAAU,UAEdjB,EAAOkB,SAASP,KAQhC,QAASe,SAAQC,GAEhBC,EAAEC,MACDC,OAAQ,OACRC,IAAKC,KAAK,wBACVL,KAAMA,IACJM,QAAQ,SAASC,GACnBC,QAAQC,IAAI,OAAOF,EAGb,KAAI,GAFA/C,GAAU+C,EAAIG,KAAKC,QACnBhD,EAAS4C,EAAIG,KAAKC,QAAQhD,OACtBF,EAAE,EAAEA,EAAEE,EAAOF,IAAI,CACrB,GAAImD,GAAOC,SAAuB,EAAdC,KAAKC,SACzBvD,GAAQC,GAAGmB,iBAAmBgC,EAIxCrD,aAAaC,KAtJf,GAAI6C,MAAO,8BACPlC,SAAW","file":"map-index.min.js","sourcesContent":["var PATH = \"http://wapapi.zhujiash.com/\";\r\nvar WORK_MAN = \"../images/map/test1.png\";\r\nfunction createMarker(workers){\r\n\r\n\tfor(var i=0,len=workers.length;i<len;i++){\r\n\t\tvar point = new BMap.Point(workers[i].Longitude,workers[i].Latitude);\r\n\t\tvar icon = new BMap.Icon(WORK_MAN,new BMap.Size(34,32));\r\n\t\tvar marker = new BMap.Marker(point,{icon:icon});\r\n\t\tmap.addOverlay(marker);\r\n\r\n        var manOrwoman = workers[i].Gender;\r\n        var flag = workers[i].DisplayAttribute;\r\n\r\n        var opts = {\r\n            position:point\r\n            // offset:new BMap.Size(-40,-30)\r\n        }              \r\n\r\n        // marker.setLabel(label);\r\n        // map.addOverlay(label);\r\n        \r\n        switch (flag) {\r\n            case 1:\r\n                var htm1 = \"<div class='bubbleInfo'>\"\r\n                +   \"<span class='name'>开锁换锁</span>\"\r\n                +   \"<span class='num mapBlue'>5年</span>\"\r\n                +\"</div>\";\r\n                var label = new BMap.Label(htm1,opts);\r\n                label.setStyle({\r\n                    border:0,\r\n                    backgroundColor:\"rgba(0,0,0,0)\",\r\n                    marginLeft:\"-50px\",\r\n                    marginTop:\"-30px\"\r\n                });\r\n                marker.setLabel(label);  \r\n                break;  \r\n            case 2:\r\n                var htm2 = \"<div class='bubbleInfo'>\"\r\n                +   \"<span class='name'>开锁换锁</span>\"\r\n                +   \"<span class='num mapPink'>2年</span>\"\r\n                +\"</div>\"; \r\n                var label = new BMap.Label(htm2,opts);\r\n                label.setStyle({\r\n                    border:0,\r\n                    backgroundColor:\"rgba(0,0,0,0)\",\r\n                    marginLeft:\"-50px\",\r\n                    marginTop:\"-30px\"\r\n                });\r\n                marker.setLabel(label);  \r\n                break;    \r\n            case 3:\r\n                if(manOrwoman === \"0\"){\r\n                    var htm3_0 = \"<div class='bubbleInfo'>\"\r\n                    +   \"<span class='name'>开锁换锁</span>\"\r\n                    +   \"<span class='num mapRed'>男40岁</span>\"\r\n                    +\"</div>\"; \r\n                    var label = new BMap.Label(htm3_0,opts);\r\n                }else{\r\n                    var htm3_1 = \"<div class='bubbleInfo'>\"\r\n                    +   \"<span class='name'>开锁换锁</span>\"\r\n                    +   \"<span class='num mapRed'>女40岁</span>\"\r\n                    +\"</div>\"; \r\n                    var label = new BMap.Label(htm3_1,opts);\r\n                }\r\n                label.setStyle({\r\n                    border:0,\r\n                    backgroundColor:\"rgba(0,0,0,0)\",\r\n                    marginLeft:\"-50px\",\r\n                    marginTop:\"-30px\"\r\n                });\r\n                marker.setLabel(label);  \r\n                break; \r\n            case 4:\r\n                var htm4 = \"<div class='bubbleInfo'>\"\r\n                +   \"<span class='name'>开锁换锁</span>\"\r\n                +   \"<span class='num mapPurple'>10公里</span>\"\r\n                +\"</div>\";\r\n                var label = new BMap.Label(htm4,opts);\r\n                label.setStyle({\r\n                    border:0,\r\n                    backgroundColor:\"rgba(0,0,0,0)\",\r\n                    marginLeft:\"-50px\",\r\n                    marginTop:\"-30px\"\r\n                });\r\n                marker.setLabel(label);  \r\n                break; \r\n            case 5:\r\n                var htm5 = \"<div class='bubbleInfo'>\"\r\n                +   \"<span class='name'>开锁换锁</span>\"\r\n                +   \"<span class='num mapOrange'>已备案</span>\"\r\n                +\"</div>\";  \r\n                var label = new BMap.Label(htm5,opts);\r\n                label.setStyle({\r\n                    border:0,\r\n                    backgroundColor:\"rgba(0,0,0,0)\",\r\n                    marginLeft:\"-50px\",\r\n                    marginTop:\"-30px\"\r\n                });\r\n                marker.setLabel(label);  \r\n                break;  \r\n            case 6:\r\n                var htm6 = \"<div class='bubbleInfo'>\"\r\n                +   \"<span class='name'>开锁换锁</span>\"\r\n                +   \"<span class='num mapGreen'>浙江</span>\"\r\n                +\"</div>\"; \r\n                var label = new BMap.Label(htm6,opts);\r\n                label.setStyle({\r\n                    border:0,\r\n                    backgroundColor:\"rgba(0,0,0,0)\",\r\n                    marginLeft:\"-50px\",\r\n                    marginTop:\"-30px\"\r\n                });\r\n                marker.setLabel(label);  \r\n                break;\r\n            default :\r\n                var htm0 = \"<div class='bubbleInfo'>\"\r\n                +   \"<span>开锁换锁</span>\"\r\n                // +   \"<span class='num'>杭州</span>\"\r\n                +\"</div>\";\r\n                var label = new BMap.Label(htm0,opts);\r\n                label.setStyle({\r\n                    border:0,\r\n                    backgroundColor:\"rgba(0,0,0,0)\",\r\n                    marginLeft:\"-50px\",\r\n                    marginTop:\"-30px\"\r\n                });\r\n                marker.setLabel(label);\r\n                break;  \r\n        }\r\n\r\n\r\n\t}\r\n}\r\n\r\nfunction getData(data){\r\n\r\n\t$.ajax({\r\n\t\tmethod: \"POST\",\r\n\t\turl: PATH+\"api/v1/provider/Index\",\r\n\t\tdata: data,\r\n\t}).success(function(res){\r\n\t\tconsole.log(\"获取数据\",res);\r\n        var workers = res.Body.Workers;\r\n        var length = res.Body.Workers.length;\r\n        for(var i=0;i<length;i++){\r\n            var num =  parseInt(Math.random()*6);\r\n            workers[i].DisplayAttribute = num;\r\n        }\r\n\r\n\r\n\t\tcreateMarker(workers);\r\n\r\n\t})\r\n}"],"sourceRoot":"/source/"}