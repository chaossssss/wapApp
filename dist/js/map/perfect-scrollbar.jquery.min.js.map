{"version":3,"sources":["map/perfect-scrollbar.jquery.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","mountJQuery","jQuery","fn","perfectScrollbar","settingOrCommand","this","each","settings","psInstances","get","ps","initialize","command","update","destroy","define","amd","jq","window","$","../main","../plugin/instances","2","oldAdd","element","className","classes","split","indexOf","push","join","oldRemove","idx","splice","add","classList","remove","list","Array","prototype","slice","apply","3","cssGet","styleName","getComputedStyle","cssSet","styleValue","toString","style","cssMultiSet","obj","key","val","DOM","tagName","document","createElement","appendTo","child","parent","appendChild","css","styleNameOrObject","matches","query","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","parentNode","removeChild","queryChildren","selector","filter","childNodes","4","EventElement","events","bind","eventName","handler","addEventListener","unbind","isHandlerProvided","hdlr","removeEventListener","unbindAll","name","EventManager","eventElements","eventElement","ee","once","onceHandler","5","s4","Math","floor","random","substring","6","cls","dom","toInt","x","parseInt","clone","constructor","map","result","extend","original","source","isEditable","el","removePsClasses","clsList","outerWidth","startScrolling","axis","stopScrolling","env","isWebKit","documentElement","supportsTouch","DocumentTouch","supportsIePointer","navigator","msMaxTouchPoints","./class","./dom","7","./plugin/destroy","./plugin/initialize","./plugin/update","8","handlers","maxScrollbarLength","minScrollbarLength","scrollXMarginOffset","scrollYMarginOffset","stopPropagationOnClick","suppressScrollX","suppressScrollY","swipePropagation","useBothWheelAxes","wheelPropagation","wheelSpeed","theme","9","_","instances","event","scrollbarX","scrollbarY","scrollbarXRail","scrollbarYRail","../lib/dom","../lib/helper","./instances","10","bindClickRailHandler","pageOffset","getBoundingClientRect","stopPropagation","halfOfScrollbarLength","scrollbarYHeight","positionTop","railYRatio","pageY","pageYOffset","top","maxPositionTop","railYHeight","positionRatio","updateScroll","contentHeight","containerHeight","updateGeometry","scrollbarXWidth","positionLeft","railXRatio","pageX","pageXOffset","left","maxPositionLeft","railXWidth","contentWidth","containerWidth","negativeScrollAdjustment","../../lib/helper","../instances","../update-geometry","../update-scroll","11","bindMouseScrollXHandler","updateScrollLeft","deltaX","newLeft","currentLeft","maxLeft","max","scrollbarXLeft","scrollLeft","currentPageX","mouseMoveHandler","preventDefault","mouseUpHandler","ownerDocument","bindMouseScrollYHandler","updateScrollTop","deltaY","newTop","currentTop","maxTop","scrollbarYTop","scrollTop","currentPageY","../../lib/dom","12","bindKeyboardHandler","shouldPreventDefault","scrollbarYActive","scrollbarXActive","hovered","shouldPrevent","isDefaultPrevented","defaultPrevented","focused","activeElement","contentDocument","shadowRoot","which","shiftKey","ctrlKey","13","bindMouseWheelHandler","getDeltaFromEvent","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","shouldBeConsumedByChild","querySelector","overflow","match","maxScrollTop","scrollHeight","clientHeight","maxScrollLeft","clientWidth","mousewheelHandler","delta","onwheel","onmousewheel","14","bindNativeScrollHandler","15","bindSelectionHandler","getRangeNode","selection","getSelection","getRangeAt","commonAncestorContainer","scrollingLoop","setInterval","scrollDiff","clearInterval","isSelected","contains","mousePosition","y","containerGeometry","offsetLeft","right","offsetWidth","offsetTop","bottom","offsetHeight","16","bindTouchHandler","magnitudeX","abs","magnitudeY","applyTouchMove","differenceX","differenceY","globalTouchStart","inGlobalTouch","globalTouchEnd","getTouch","targetTouches","shouldHandle","pointerType","MSPOINTER_TYPE_MOUSE","touchStart","inLocalTouch","touch","startOffset","startTime","Date","getTime","easingLoop","touchMove","currentOffset","currentTime","timeGap","speed","touchEnd","PointerEvent","MSPointerEvent","17","click-rail","drag-scrollbar","keyboard","wheel","nativeScrollHandler","userSettings","forEach","handlerName","../lib/class","./handler/click-rail","./handler/drag-scrollbar","./handler/keyboard","./handler/mouse-wheel","./handler/native-scroll","./handler/selection","./handler/touch","./update-geometry","18","Instance","focus","blur","defaultSettings","isRtl","isNegativeScroll","originalScrollLeft","scrollWidth","setAttribute","scrollbarXBottom","isScrollbarXUsingBottom","scrollbarXTop","railBorderXWidth","railXMarginWidth","scrollbarYRight","isScrollbarYUsingRight","scrollbarYLeft","scrollbarYOuterWidth","railBorderYWidth","railYMarginHeight","getId","getAttribute","setId","id","removeId","removeAttribute","guid","newId","../lib/event-manager","../lib/guid","./default-setting","19","getThumbSize","thumbSize","min","updateCss","xRailOffset","width","yRailOffset","height","existingRails","rail","./update-scroll","20","lastTop","lastLeft","upEvent","createEvent","downEvent","leftEvent","rightEvent","yEvent","xEvent","xStartEvent","xEndEvent","yStartEvent","yEndEvent","initEvent","value","dispatchEvent","21"],"mappings":"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","file":"map/perfect-scrollbar.jquery.min.js","sourcesContent":["/* perfect-scrollbar v0.6.12 */\r\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar ps = require('../main');\r\nvar psInstances = require('../plugin/instances');\r\n\r\nfunction mountJQuery(jQuery) {\r\n  jQuery.fn.perfectScrollbar = function (settingOrCommand) {\r\n    return this.each(function () {\r\n      if (typeof settingOrCommand === 'object' ||\r\n          typeof settingOrCommand === 'undefined') {\r\n        // If it's an object or none, initialize.\r\n        var settings = settingOrCommand;\r\n\r\n        if (!psInstances.get(this)) {\r\n          ps.initialize(this, settings);\r\n        }\r\n      } else {\r\n        // Unless, it may be a command.\r\n        var command = settingOrCommand;\r\n\r\n        if (command === 'update') {\r\n          ps.update(this);\r\n        } else if (command === 'destroy') {\r\n          ps.destroy(this);\r\n        }\r\n      }\r\n    });\r\n  };\r\n}\r\n\r\nif (typeof define === 'function' && define.amd) {\r\n  // AMD. Register as an anonymous module.\r\n  define(['jquery'], mountJQuery);\r\n} else {\r\n  var jq = window.jQuery ? window.jQuery : window.$;\r\n  if (typeof jq !== 'undefined') {\r\n    mountJQuery(jq);\r\n  }\r\n}\r\n\r\nmodule.exports = mountJQuery;\r\n\r\n},{\"../main\":7,\"../plugin/instances\":18}],2:[function(require,module,exports){\r\n'use strict';\r\n\r\nfunction oldAdd(element, className) {\r\n  var classes = element.className.split(' ');\r\n  if (classes.indexOf(className) < 0) {\r\n    classes.push(className);\r\n  }\r\n  element.className = classes.join(' ');\r\n}\r\n\r\nfunction oldRemove(element, className) {\r\n  var classes = element.className.split(' ');\r\n  var idx = classes.indexOf(className);\r\n  if (idx >= 0) {\r\n    classes.splice(idx, 1);\r\n  }\r\n  element.className = classes.join(' ');\r\n}\r\n\r\nexports.add = function (element, className) {\r\n  if (element.classList) {\r\n    element.classList.add(className);\r\n  } else {\r\n    oldAdd(element, className);\r\n  }\r\n};\r\n\r\nexports.remove = function (element, className) {\r\n  if (element.classList) {\r\n    element.classList.remove(className);\r\n  } else {\r\n    oldRemove(element, className);\r\n  }\r\n};\r\n\r\nexports.list = function (element) {\r\n  if (element.classList) {\r\n    return Array.prototype.slice.apply(element.classList);\r\n  } else {\r\n    return element.className.split(' ');\r\n  }\r\n};\r\n\r\n},{}],3:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar DOM = {};\r\n\r\nDOM.e = function (tagName, className) {\r\n  var element = document.createElement(tagName);\r\n  element.className = className;\r\n  return element;\r\n};\r\n\r\nDOM.appendTo = function (child, parent) {\r\n  parent.appendChild(child);\r\n  return child;\r\n};\r\n\r\nfunction cssGet(element, styleName) {\r\n  return window.getComputedStyle(element)[styleName];\r\n}\r\n\r\nfunction cssSet(element, styleName, styleValue) {\r\n  if (typeof styleValue === 'number') {\r\n    styleValue = styleValue.toString() + 'px';\r\n  }\r\n  element.style[styleName] = styleValue;\r\n  return element;\r\n}\r\n\r\nfunction cssMultiSet(element, obj) {\r\n  for (var key in obj) {\r\n    var val = obj[key];\r\n    if (typeof val === 'number') {\r\n      val = val.toString() + 'px';\r\n    }\r\n    element.style[key] = val;\r\n  }\r\n  return element;\r\n}\r\n\r\nDOM.css = function (element, styleNameOrObject, styleValue) {\r\n  if (typeof styleNameOrObject === 'object') {\r\n    // multiple set with object\r\n    return cssMultiSet(element, styleNameOrObject);\r\n  } else {\r\n    if (typeof styleValue === 'undefined') {\r\n      return cssGet(element, styleNameOrObject);\r\n    } else {\r\n      return cssSet(element, styleNameOrObject, styleValue);\r\n    }\r\n  }\r\n};\r\n\r\nDOM.matches = function (element, query) {\r\n  if (typeof element.matches !== 'undefined') {\r\n    return element.matches(query);\r\n  } else {\r\n    if (typeof element.matchesSelector !== 'undefined') {\r\n      return element.matchesSelector(query);\r\n    } else if (typeof element.webkitMatchesSelector !== 'undefined') {\r\n      return element.webkitMatchesSelector(query);\r\n    } else if (typeof element.mozMatchesSelector !== 'undefined') {\r\n      return element.mozMatchesSelector(query);\r\n    } else if (typeof element.msMatchesSelector !== 'undefined') {\r\n      return element.msMatchesSelector(query);\r\n    }\r\n  }\r\n};\r\n\r\nDOM.remove = function (element) {\r\n  if (typeof element.remove !== 'undefined') {\r\n    element.remove();\r\n  } else {\r\n    if (element.parentNode) {\r\n      element.parentNode.removeChild(element);\r\n    }\r\n  }\r\n};\r\n\r\nDOM.queryChildren = function (element, selector) {\r\n  return Array.prototype.filter.call(element.childNodes, function (child) {\r\n    return DOM.matches(child, selector);\r\n  });\r\n};\r\n\r\nmodule.exports = DOM;\r\n\r\n},{}],4:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar EventElement = function (element) {\r\n  this.element = element;\r\n  this.events = {};\r\n};\r\n\r\nEventElement.prototype.bind = function (eventName, handler) {\r\n  if (typeof this.events[eventName] === 'undefined') {\r\n    this.events[eventName] = [];\r\n  }\r\n  this.events[eventName].push(handler);\r\n  this.element.addEventListener(eventName, handler, false);\r\n};\r\n\r\nEventElement.prototype.unbind = function (eventName, handler) {\r\n  var isHandlerProvided = (typeof handler !== 'undefined');\r\n  this.events[eventName] = this.events[eventName].filter(function (hdlr) {\r\n    if (isHandlerProvided && hdlr !== handler) {\r\n      return true;\r\n    }\r\n    this.element.removeEventListener(eventName, hdlr, false);\r\n    return false;\r\n  }, this);\r\n};\r\n\r\nEventElement.prototype.unbindAll = function () {\r\n  for (var name in this.events) {\r\n    this.unbind(name);\r\n  }\r\n};\r\n\r\nvar EventManager = function () {\r\n  this.eventElements = [];\r\n};\r\n\r\nEventManager.prototype.eventElement = function (element) {\r\n  var ee = this.eventElements.filter(function (eventElement) {\r\n    return eventElement.element === element;\r\n  })[0];\r\n  if (typeof ee === 'undefined') {\r\n    ee = new EventElement(element);\r\n    this.eventElements.push(ee);\r\n  }\r\n  return ee;\r\n};\r\n\r\nEventManager.prototype.bind = function (element, eventName, handler) {\r\n  this.eventElement(element).bind(eventName, handler);\r\n};\r\n\r\nEventManager.prototype.unbind = function (element, eventName, handler) {\r\n  this.eventElement(element).unbind(eventName, handler);\r\n};\r\n\r\nEventManager.prototype.unbindAll = function () {\r\n  for (var i = 0; i < this.eventElements.length; i++) {\r\n    this.eventElements[i].unbindAll();\r\n  }\r\n};\r\n\r\nEventManager.prototype.once = function (element, eventName, handler) {\r\n  var ee = this.eventElement(element);\r\n  var onceHandler = function (e) {\r\n    ee.unbind(eventName, onceHandler);\r\n    handler(e);\r\n  };\r\n  ee.bind(eventName, onceHandler);\r\n};\r\n\r\nmodule.exports = EventManager;\r\n\r\n},{}],5:[function(require,module,exports){\r\n'use strict';\r\n\r\nmodule.exports = (function () {\r\n  function s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n               .toString(16)\r\n               .substring(1);\r\n  }\r\n  return function () {\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n           s4() + '-' + s4() + s4() + s4();\r\n  };\r\n})();\r\n\r\n},{}],6:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar cls = require('./class');\r\nvar dom = require('./dom');\r\n\r\nvar toInt = exports.toInt = function (x) {\r\n  return parseInt(x, 10) || 0;\r\n};\r\n\r\nvar clone = exports.clone = function (obj) {\r\n  if (obj === null) {\r\n    return null;\r\n  } else if (obj.constructor === Array) {\r\n    return obj.map(clone);\r\n  } else if (typeof obj === 'object') {\r\n    var result = {};\r\n    for (var key in obj) {\r\n      result[key] = clone(obj[key]);\r\n    }\r\n    return result;\r\n  } else {\r\n    return obj;\r\n  }\r\n};\r\n\r\nexports.extend = function (original, source) {\r\n  var result = clone(original);\r\n  for (var key in source) {\r\n    result[key] = clone(source[key]);\r\n  }\r\n  return result;\r\n};\r\n\r\nexports.isEditable = function (el) {\r\n  return dom.matches(el, \"input,[contenteditable]\") ||\r\n         dom.matches(el, \"select,[contenteditable]\") ||\r\n         dom.matches(el, \"textarea,[contenteditable]\") ||\r\n         dom.matches(el, \"button,[contenteditable]\");\r\n};\r\n\r\nexports.removePsClasses = function (element) {\r\n  var clsList = cls.list(element);\r\n  for (var i = 0; i < clsList.length; i++) {\r\n    var className = clsList[i];\r\n    if (className.indexOf('ps-') === 0) {\r\n      cls.remove(element, className);\r\n    }\r\n  }\r\n};\r\n\r\nexports.outerWidth = function (element) {\r\n  return toInt(dom.css(element, 'width')) +\r\n         toInt(dom.css(element, 'paddingLeft')) +\r\n         toInt(dom.css(element, 'paddingRight')) +\r\n         toInt(dom.css(element, 'borderLeftWidth')) +\r\n         toInt(dom.css(element, 'borderRightWidth'));\r\n};\r\n\r\nexports.startScrolling = function (element, axis) {\r\n  cls.add(element, 'ps-in-scrolling');\r\n  if (typeof axis !== 'undefined') {\r\n    cls.add(element, 'ps-' + axis);\r\n  } else {\r\n    cls.add(element, 'ps-x');\r\n    cls.add(element, 'ps-y');\r\n  }\r\n};\r\n\r\nexports.stopScrolling = function (element, axis) {\r\n  cls.remove(element, 'ps-in-scrolling');\r\n  if (typeof axis !== 'undefined') {\r\n    cls.remove(element, 'ps-' + axis);\r\n  } else {\r\n    cls.remove(element, 'ps-x');\r\n    cls.remove(element, 'ps-y');\r\n  }\r\n};\r\n\r\nexports.env = {\r\n  isWebKit: 'WebkitAppearance' in document.documentElement.style,\r\n  supportsTouch: (('ontouchstart' in window) || window.DocumentTouch && document instanceof window.DocumentTouch),\r\n  supportsIePointer: window.navigator.msMaxTouchPoints !== null\r\n};\r\n\r\n},{\"./class\":2,\"./dom\":3}],7:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar destroy = require('./plugin/destroy');\r\nvar initialize = require('./plugin/initialize');\r\nvar update = require('./plugin/update');\r\n\r\nmodule.exports = {\r\n  initialize: initialize,\r\n  update: update,\r\n  destroy: destroy\r\n};\r\n\r\n},{\"./plugin/destroy\":9,\"./plugin/initialize\":17,\"./plugin/update\":21}],8:[function(require,module,exports){\r\n'use strict';\r\n\r\nmodule.exports = {\r\n  handlers: ['click-rail', 'drag-scrollbar', 'keyboard', 'wheel', 'touch'],\r\n  maxScrollbarLength: null,\r\n  minScrollbarLength: null,\r\n  scrollXMarginOffset: 0,\r\n  scrollYMarginOffset: 0,\r\n  stopPropagationOnClick: true,\r\n  suppressScrollX: false,\r\n  suppressScrollY: false,\r\n  swipePropagation: true,\r\n  useBothWheelAxes: false,\r\n  wheelPropagation: false,\r\n  wheelSpeed: 1,\r\n  theme: 'default'\r\n};\r\n\r\n},{}],9:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../lib/helper');\r\nvar dom = require('../lib/dom');\r\nvar instances = require('./instances');\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n\r\n  if (!i) {\r\n    return;\r\n  }\r\n\r\n  i.event.unbindAll();\r\n  dom.remove(i.scrollbarX);\r\n  dom.remove(i.scrollbarY);\r\n  dom.remove(i.scrollbarXRail);\r\n  dom.remove(i.scrollbarYRail);\r\n  _.removePsClasses(element);\r\n\r\n  instances.remove(element);\r\n};\r\n\r\n},{\"../lib/dom\":3,\"../lib/helper\":6,\"./instances\":18}],10:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../../lib/helper');\r\nvar instances = require('../instances');\r\nvar updateGeometry = require('../update-geometry');\r\nvar updateScroll = require('../update-scroll');\r\n\r\nfunction bindClickRailHandler(element, i) {\r\n  function pageOffset(el) {\r\n    return el.getBoundingClientRect();\r\n  }\r\n  var stopPropagation = function (e) { e.stopPropagation(); };\r\n\r\n  if (i.settings.stopPropagationOnClick) {\r\n    i.event.bind(i.scrollbarY, 'click', stopPropagation);\r\n  }\r\n  i.event.bind(i.scrollbarYRail, 'click', function (e) {\r\n    var halfOfScrollbarLength = _.toInt(i.scrollbarYHeight / 2);\r\n    var positionTop = i.railYRatio * (e.pageY - window.pageYOffset - pageOffset(i.scrollbarYRail).top - halfOfScrollbarLength);\r\n    var maxPositionTop = i.railYRatio * (i.railYHeight - i.scrollbarYHeight);\r\n    var positionRatio = positionTop / maxPositionTop;\r\n\r\n    if (positionRatio < 0) {\r\n      positionRatio = 0;\r\n    } else if (positionRatio > 1) {\r\n      positionRatio = 1;\r\n    }\r\n\r\n    updateScroll(element, 'top', (i.contentHeight - i.containerHeight) * positionRatio);\r\n    updateGeometry(element);\r\n\r\n    e.stopPropagation();\r\n  });\r\n\r\n  if (i.settings.stopPropagationOnClick) {\r\n    i.event.bind(i.scrollbarX, 'click', stopPropagation);\r\n  }\r\n  i.event.bind(i.scrollbarXRail, 'click', function (e) {\r\n    var halfOfScrollbarLength = _.toInt(i.scrollbarXWidth / 2);\r\n    var positionLeft = i.railXRatio * (e.pageX - window.pageXOffset - pageOffset(i.scrollbarXRail).left - halfOfScrollbarLength);\r\n    var maxPositionLeft = i.railXRatio * (i.railXWidth - i.scrollbarXWidth);\r\n    var positionRatio = positionLeft / maxPositionLeft;\r\n\r\n    if (positionRatio < 0) {\r\n      positionRatio = 0;\r\n    } else if (positionRatio > 1) {\r\n      positionRatio = 1;\r\n    }\r\n\r\n    updateScroll(element, 'left', ((i.contentWidth - i.containerWidth) * positionRatio) - i.negativeScrollAdjustment);\r\n    updateGeometry(element);\r\n\r\n    e.stopPropagation();\r\n  });\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n  bindClickRailHandler(element, i);\r\n};\r\n\r\n},{\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],11:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../../lib/helper');\r\nvar dom = require('../../lib/dom');\r\nvar instances = require('../instances');\r\nvar updateGeometry = require('../update-geometry');\r\nvar updateScroll = require('../update-scroll');\r\n\r\nfunction bindMouseScrollXHandler(element, i) {\r\n  var currentLeft = null;\r\n  var currentPageX = null;\r\n\r\n  function updateScrollLeft(deltaX) {\r\n    var newLeft = currentLeft + (deltaX * i.railXRatio);\r\n    var maxLeft = Math.max(0, i.scrollbarXRail.getBoundingClientRect().left) + (i.railXRatio * (i.railXWidth - i.scrollbarXWidth));\r\n\r\n    if (newLeft < 0) {\r\n      i.scrollbarXLeft = 0;\r\n    } else if (newLeft > maxLeft) {\r\n      i.scrollbarXLeft = maxLeft;\r\n    } else {\r\n      i.scrollbarXLeft = newLeft;\r\n    }\r\n\r\n    var scrollLeft = _.toInt(i.scrollbarXLeft * (i.contentWidth - i.containerWidth) / (i.containerWidth - (i.railXRatio * i.scrollbarXWidth))) - i.negativeScrollAdjustment;\r\n    updateScroll(element, 'left', scrollLeft);\r\n  }\r\n\r\n  var mouseMoveHandler = function (e) {\r\n    updateScrollLeft(e.pageX - currentPageX);\r\n    updateGeometry(element);\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  };\r\n\r\n  var mouseUpHandler = function () {\r\n    _.stopScrolling(element, 'x');\r\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n  };\r\n\r\n  i.event.bind(i.scrollbarX, 'mousedown', function (e) {\r\n    currentPageX = e.pageX;\r\n    currentLeft = _.toInt(dom.css(i.scrollbarX, 'left')) * i.railXRatio;\r\n    _.startScrolling(element, 'x');\r\n\r\n    i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n    i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\r\n\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  });\r\n}\r\n\r\nfunction bindMouseScrollYHandler(element, i) {\r\n  var currentTop = null;\r\n  var currentPageY = null;\r\n\r\n  function updateScrollTop(deltaY) {\r\n    var newTop = currentTop + (deltaY * i.railYRatio);\r\n    var maxTop = Math.max(0, i.scrollbarYRail.getBoundingClientRect().top) + (i.railYRatio * (i.railYHeight - i.scrollbarYHeight));\r\n\r\n    if (newTop < 0) {\r\n      i.scrollbarYTop = 0;\r\n    } else if (newTop > maxTop) {\r\n      i.scrollbarYTop = maxTop;\r\n    } else {\r\n      i.scrollbarYTop = newTop;\r\n    }\r\n\r\n    var scrollTop = _.toInt(i.scrollbarYTop * (i.contentHeight - i.containerHeight) / (i.containerHeight - (i.railYRatio * i.scrollbarYHeight)));\r\n    updateScroll(element, 'top', scrollTop);\r\n  }\r\n\r\n  var mouseMoveHandler = function (e) {\r\n    updateScrollTop(e.pageY - currentPageY);\r\n    updateGeometry(element);\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  };\r\n\r\n  var mouseUpHandler = function () {\r\n    _.stopScrolling(element, 'y');\r\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n  };\r\n\r\n  i.event.bind(i.scrollbarY, 'mousedown', function (e) {\r\n    currentPageY = e.pageY;\r\n    currentTop = _.toInt(dom.css(i.scrollbarY, 'top')) * i.railYRatio;\r\n    _.startScrolling(element, 'y');\r\n\r\n    i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\r\n    i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\r\n\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  });\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n  bindMouseScrollXHandler(element, i);\r\n  bindMouseScrollYHandler(element, i);\r\n};\r\n\r\n},{\"../../lib/dom\":3,\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],12:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../../lib/helper');\r\nvar dom = require('../../lib/dom');\r\nvar instances = require('../instances');\r\nvar updateGeometry = require('../update-geometry');\r\nvar updateScroll = require('../update-scroll');\r\n\r\nfunction bindKeyboardHandler(element, i) {\r\n  var hovered = false;\r\n  i.event.bind(element, 'mouseenter', function () {\r\n    hovered = true;\r\n  });\r\n  i.event.bind(element, 'mouseleave', function () {\r\n    hovered = false;\r\n  });\r\n\r\n  var shouldPrevent = false;\r\n  function shouldPreventDefault(deltaX, deltaY) {\r\n    var scrollTop = element.scrollTop;\r\n    if (deltaX === 0) {\r\n      if (!i.scrollbarYActive) {\r\n        return false;\r\n      }\r\n      if ((scrollTop === 0 && deltaY > 0) || (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)) {\r\n        return !i.settings.wheelPropagation;\r\n      }\r\n    }\r\n\r\n    var scrollLeft = element.scrollLeft;\r\n    if (deltaY === 0) {\r\n      if (!i.scrollbarXActive) {\r\n        return false;\r\n      }\r\n      if ((scrollLeft === 0 && deltaX < 0) || (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)) {\r\n        return !i.settings.wheelPropagation;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  i.event.bind(i.ownerDocument, 'keydown', function (e) {\r\n    if ((e.isDefaultPrevented && e.isDefaultPrevented()) || e.defaultPrevented) {\r\n      return;\r\n    }\r\n\r\n    var focused = dom.matches(i.scrollbarX, ':focus') ||\r\n                  dom.matches(i.scrollbarY, ':focus');\r\n\r\n    if (!hovered && !focused) {\r\n      return;\r\n    }\r\n\r\n    var activeElement = document.activeElement ? document.activeElement : i.ownerDocument.activeElement;\r\n    if (activeElement) {\r\n      if (activeElement.tagName === 'IFRAME') {\r\n        activeElement = activeElement.contentDocument.activeElement;\r\n      } else {\r\n        // go deeper if element is a webcomponent\r\n        while (activeElement.shadowRoot) {\r\n          activeElement = activeElement.shadowRoot.activeElement;\r\n        }\r\n      }\r\n      if (_.isEditable(activeElement)) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    var deltaX = 0;\r\n    var deltaY = 0;\r\n\r\n    switch (e.which) {\r\n    case 37: // left\r\n      deltaX = -30;\r\n      break;\r\n    case 38: // up\r\n      deltaY = 30;\r\n      break;\r\n    case 39: // right\r\n      deltaX = 30;\r\n      break;\r\n    case 40: // down\r\n      deltaY = -30;\r\n      break;\r\n    case 33: // page up\r\n      deltaY = 90;\r\n      break;\r\n    case 32: // space bar\r\n      if (e.shiftKey) {\r\n        deltaY = 90;\r\n      } else {\r\n        deltaY = -90;\r\n      }\r\n      break;\r\n    case 34: // page down\r\n      deltaY = -90;\r\n      break;\r\n    case 35: // end\r\n      if (e.ctrlKey) {\r\n        deltaY = -i.contentHeight;\r\n      } else {\r\n        deltaY = -i.containerHeight;\r\n      }\r\n      break;\r\n    case 36: // home\r\n      if (e.ctrlKey) {\r\n        deltaY = element.scrollTop;\r\n      } else {\r\n        deltaY = i.containerHeight;\r\n      }\r\n      break;\r\n    default:\r\n      return;\r\n    }\r\n\r\n    updateScroll(element, 'top', element.scrollTop - deltaY);\r\n    updateScroll(element, 'left', element.scrollLeft + deltaX);\r\n    updateGeometry(element);\r\n\r\n    shouldPrevent = shouldPreventDefault(deltaX, deltaY);\r\n    if (shouldPrevent) {\r\n      e.preventDefault();\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n  bindKeyboardHandler(element, i);\r\n};\r\n\r\n},{\"../../lib/dom\":3,\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],13:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar instances = require('../instances');\r\nvar updateGeometry = require('../update-geometry');\r\nvar updateScroll = require('../update-scroll');\r\n\r\nfunction bindMouseWheelHandler(element, i) {\r\n  var shouldPrevent = false;\r\n\r\n  function shouldPreventDefault(deltaX, deltaY) {\r\n    var scrollTop = element.scrollTop;\r\n    if (deltaX === 0) {\r\n      if (!i.scrollbarYActive) {\r\n        return false;\r\n      }\r\n      if ((scrollTop === 0 && deltaY > 0) || (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)) {\r\n        return !i.settings.wheelPropagation;\r\n      }\r\n    }\r\n\r\n    var scrollLeft = element.scrollLeft;\r\n    if (deltaY === 0) {\r\n      if (!i.scrollbarXActive) {\r\n        return false;\r\n      }\r\n      if ((scrollLeft === 0 && deltaX < 0) || (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)) {\r\n        return !i.settings.wheelPropagation;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function getDeltaFromEvent(e) {\r\n    var deltaX = e.deltaX;\r\n    var deltaY = -1 * e.deltaY;\r\n\r\n    if (typeof deltaX === \"undefined\" || typeof deltaY === \"undefined\") {\r\n      // OS X Safari\r\n      deltaX = -1 * e.wheelDeltaX / 6;\r\n      deltaY = e.wheelDeltaY / 6;\r\n    }\r\n\r\n    if (e.deltaMode && e.deltaMode === 1) {\r\n      // Firefox in deltaMode 1: Line scrolling\r\n      deltaX *= 10;\r\n      deltaY *= 10;\r\n    }\r\n\r\n    if (deltaX !== deltaX && deltaY !== deltaY/* NaN checks */) {\r\n      // IE in some mouse drivers\r\n      deltaX = 0;\r\n      deltaY = e.wheelDelta;\r\n    }\r\n\r\n    return [deltaX, deltaY];\r\n  }\r\n\r\n  function shouldBeConsumedByChild(deltaX, deltaY) {\r\n    var child = element.querySelector('textarea:hover, select[multiple]:hover, .ps-child:hover');\r\n    if (child) {\r\n      if (child.tagName !== 'TEXTAREA' && !window.getComputedStyle(child).overflow.match(/(scroll|auto)/)) {\r\n        return false;\r\n      }\r\n\r\n      var maxScrollTop = child.scrollHeight - child.clientHeight;\r\n      if (maxScrollTop > 0) {\r\n        if (!(child.scrollTop === 0 && deltaY > 0) && !(child.scrollTop === maxScrollTop && deltaY < 0)) {\r\n          return true;\r\n        }\r\n      }\r\n      var maxScrollLeft = child.scrollLeft - child.clientWidth;\r\n      if (maxScrollLeft > 0) {\r\n        if (!(child.scrollLeft === 0 && deltaX < 0) && !(child.scrollLeft === maxScrollLeft && deltaX > 0)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function mousewheelHandler(e) {\r\n    var delta = getDeltaFromEvent(e);\r\n\r\n    var deltaX = delta[0];\r\n    var deltaY = delta[1];\r\n\r\n    if (shouldBeConsumedByChild(deltaX, deltaY)) {\r\n      return;\r\n    }\r\n\r\n    shouldPrevent = false;\r\n    if (!i.settings.useBothWheelAxes) {\r\n      // deltaX will only be used for horizontal scrolling and deltaY will\r\n      // only be used for vertical scrolling - this is the default\r\n      updateScroll(element, 'top', element.scrollTop - (deltaY * i.settings.wheelSpeed));\r\n      updateScroll(element, 'left', element.scrollLeft + (deltaX * i.settings.wheelSpeed));\r\n    } else if (i.scrollbarYActive && !i.scrollbarXActive) {\r\n      // only vertical scrollbar is active and useBothWheelAxes option is\r\n      // active, so let's scroll vertical bar using both mouse wheel axes\r\n      if (deltaY) {\r\n        updateScroll(element, 'top', element.scrollTop - (deltaY * i.settings.wheelSpeed));\r\n      } else {\r\n        updateScroll(element, 'top', element.scrollTop + (deltaX * i.settings.wheelSpeed));\r\n      }\r\n      shouldPrevent = true;\r\n    } else if (i.scrollbarXActive && !i.scrollbarYActive) {\r\n      // useBothWheelAxes and only horizontal bar is active, so use both\r\n      // wheel axes for horizontal bar\r\n      if (deltaX) {\r\n        updateScroll(element, 'left', element.scrollLeft + (deltaX * i.settings.wheelSpeed));\r\n      } else {\r\n        updateScroll(element, 'left', element.scrollLeft - (deltaY * i.settings.wheelSpeed));\r\n      }\r\n      shouldPrevent = true;\r\n    }\r\n\r\n    updateGeometry(element);\r\n\r\n    shouldPrevent = (shouldPrevent || shouldPreventDefault(deltaX, deltaY));\r\n    if (shouldPrevent) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  if (typeof window.onwheel !== \"undefined\") {\r\n    i.event.bind(element, 'wheel', mousewheelHandler);\r\n  } else if (typeof window.onmousewheel !== \"undefined\") {\r\n    i.event.bind(element, 'mousewheel', mousewheelHandler);\r\n  }\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n  bindMouseWheelHandler(element, i);\r\n};\r\n\r\n},{\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],14:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar instances = require('../instances');\r\nvar updateGeometry = require('../update-geometry');\r\n\r\nfunction bindNativeScrollHandler(element, i) {\r\n  i.event.bind(element, 'scroll', function () {\r\n    updateGeometry(element);\r\n  });\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n  bindNativeScrollHandler(element, i);\r\n};\r\n\r\n},{\"../instances\":18,\"../update-geometry\":19}],15:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../../lib/helper');\r\nvar instances = require('../instances');\r\nvar updateGeometry = require('../update-geometry');\r\nvar updateScroll = require('../update-scroll');\r\n\r\nfunction bindSelectionHandler(element, i) {\r\n  function getRangeNode() {\r\n    var selection = window.getSelection ? window.getSelection() :\r\n                    document.getSelection ? document.getSelection() : '';\r\n    if (selection.toString().length === 0) {\r\n      return null;\r\n    } else {\r\n      return selection.getRangeAt(0).commonAncestorContainer;\r\n    }\r\n  }\r\n\r\n  var scrollingLoop = null;\r\n  var scrollDiff = {top: 0, left: 0};\r\n  function startScrolling() {\r\n    if (!scrollingLoop) {\r\n      scrollingLoop = setInterval(function () {\r\n        if (!instances.get(element)) {\r\n          clearInterval(scrollingLoop);\r\n          return;\r\n        }\r\n\r\n        updateScroll(element, 'top', element.scrollTop + scrollDiff.top);\r\n        updateScroll(element, 'left', element.scrollLeft + scrollDiff.left);\r\n        updateGeometry(element);\r\n      }, 50); // every .1 sec\r\n    }\r\n  }\r\n  function stopScrolling() {\r\n    if (scrollingLoop) {\r\n      clearInterval(scrollingLoop);\r\n      scrollingLoop = null;\r\n    }\r\n    _.stopScrolling(element);\r\n  }\r\n\r\n  var isSelected = false;\r\n  i.event.bind(i.ownerDocument, 'selectionchange', function () {\r\n    if (element.contains(getRangeNode())) {\r\n      isSelected = true;\r\n    } else {\r\n      isSelected = false;\r\n      stopScrolling();\r\n    }\r\n  });\r\n  i.event.bind(window, 'mouseup', function () {\r\n    if (isSelected) {\r\n      isSelected = false;\r\n      stopScrolling();\r\n    }\r\n  });\r\n\r\n  i.event.bind(window, 'mousemove', function (e) {\r\n    if (isSelected) {\r\n      var mousePosition = {x: e.pageX, y: e.pageY};\r\n      var containerGeometry = {\r\n        left: element.offsetLeft,\r\n        right: element.offsetLeft + element.offsetWidth,\r\n        top: element.offsetTop,\r\n        bottom: element.offsetTop + element.offsetHeight\r\n      };\r\n\r\n      if (mousePosition.x < containerGeometry.left + 3) {\r\n        scrollDiff.left = -5;\r\n        _.startScrolling(element, 'x');\r\n      } else if (mousePosition.x > containerGeometry.right - 3) {\r\n        scrollDiff.left = 5;\r\n        _.startScrolling(element, 'x');\r\n      } else {\r\n        scrollDiff.left = 0;\r\n      }\r\n\r\n      if (mousePosition.y < containerGeometry.top + 3) {\r\n        if (containerGeometry.top + 3 - mousePosition.y < 5) {\r\n          scrollDiff.top = -5;\r\n        } else {\r\n          scrollDiff.top = -20;\r\n        }\r\n        _.startScrolling(element, 'y');\r\n      } else if (mousePosition.y > containerGeometry.bottom - 3) {\r\n        if (mousePosition.y - containerGeometry.bottom + 3 < 5) {\r\n          scrollDiff.top = 5;\r\n        } else {\r\n          scrollDiff.top = 20;\r\n        }\r\n        _.startScrolling(element, 'y');\r\n      } else {\r\n        scrollDiff.top = 0;\r\n      }\r\n\r\n      if (scrollDiff.top === 0 && scrollDiff.left === 0) {\r\n        stopScrolling();\r\n      } else {\r\n        startScrolling();\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n  bindSelectionHandler(element, i);\r\n};\r\n\r\n},{\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],16:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../../lib/helper');\r\nvar instances = require('../instances');\r\nvar updateGeometry = require('../update-geometry');\r\nvar updateScroll = require('../update-scroll');\r\n\r\nfunction bindTouchHandler(element, i, supportsTouch, supportsIePointer) {\r\n  function shouldPreventDefault(deltaX, deltaY) {\r\n    var scrollTop = element.scrollTop;\r\n    var scrollLeft = element.scrollLeft;\r\n    var magnitudeX = Math.abs(deltaX);\r\n    var magnitudeY = Math.abs(deltaY);\r\n\r\n    if (magnitudeY > magnitudeX) {\r\n      // user is perhaps trying to swipe up/down the page\r\n\r\n      if (((deltaY < 0) && (scrollTop === i.contentHeight - i.containerHeight)) ||\r\n          ((deltaY > 0) && (scrollTop === 0))) {\r\n        return !i.settings.swipePropagation;\r\n      }\r\n    } else if (magnitudeX > magnitudeY) {\r\n      // user is perhaps trying to swipe left/right across the page\r\n\r\n      if (((deltaX < 0) && (scrollLeft === i.contentWidth - i.containerWidth)) ||\r\n          ((deltaX > 0) && (scrollLeft === 0))) {\r\n        return !i.settings.swipePropagation;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  function applyTouchMove(differenceX, differenceY) {\r\n    updateScroll(element, 'top', element.scrollTop - differenceY);\r\n    updateScroll(element, 'left', element.scrollLeft - differenceX);\r\n\r\n    updateGeometry(element);\r\n  }\r\n\r\n  var startOffset = {};\r\n  var startTime = 0;\r\n  var speed = {};\r\n  var easingLoop = null;\r\n  var inGlobalTouch = false;\r\n  var inLocalTouch = false;\r\n\r\n  function globalTouchStart() {\r\n    inGlobalTouch = true;\r\n  }\r\n  function globalTouchEnd() {\r\n    inGlobalTouch = false;\r\n  }\r\n\r\n  function getTouch(e) {\r\n    if (e.targetTouches) {\r\n      return e.targetTouches[0];\r\n    } else {\r\n      // Maybe IE pointer\r\n      return e;\r\n    }\r\n  }\r\n  function shouldHandle(e) {\r\n    if (e.targetTouches && e.targetTouches.length === 1) {\r\n      return true;\r\n    }\r\n    if (e.pointerType && e.pointerType !== 'mouse' && e.pointerType !== e.MSPOINTER_TYPE_MOUSE) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  function touchStart(e) {\r\n    if (shouldHandle(e)) {\r\n      inLocalTouch = true;\r\n\r\n      var touch = getTouch(e);\r\n\r\n      startOffset.pageX = touch.pageX;\r\n      startOffset.pageY = touch.pageY;\r\n\r\n      startTime = (new Date()).getTime();\r\n\r\n      if (easingLoop !== null) {\r\n        clearInterval(easingLoop);\r\n      }\r\n\r\n      e.stopPropagation();\r\n    }\r\n  }\r\n  function touchMove(e) {\r\n    if (!inLocalTouch && i.settings.swipePropagation) {\r\n      touchStart(e);\r\n    }\r\n    if (!inGlobalTouch && inLocalTouch && shouldHandle(e)) {\r\n      var touch = getTouch(e);\r\n\r\n      var currentOffset = {pageX: touch.pageX, pageY: touch.pageY};\r\n\r\n      var differenceX = currentOffset.pageX - startOffset.pageX;\r\n      var differenceY = currentOffset.pageY - startOffset.pageY;\r\n\r\n      applyTouchMove(differenceX, differenceY);\r\n      startOffset = currentOffset;\r\n\r\n      var currentTime = (new Date()).getTime();\r\n\r\n      var timeGap = currentTime - startTime;\r\n      if (timeGap > 0) {\r\n        speed.x = differenceX / timeGap;\r\n        speed.y = differenceY / timeGap;\r\n        startTime = currentTime;\r\n      }\r\n\r\n      if (shouldPreventDefault(differenceX, differenceY)) {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n      }\r\n    }\r\n  }\r\n  function touchEnd() {\r\n    if (!inGlobalTouch && inLocalTouch) {\r\n      inLocalTouch = false;\r\n\r\n      clearInterval(easingLoop);\r\n      easingLoop = setInterval(function () {\r\n        if (!instances.get(element)) {\r\n          clearInterval(easingLoop);\r\n          return;\r\n        }\r\n\r\n        if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\r\n          clearInterval(easingLoop);\r\n          return;\r\n        }\r\n\r\n        applyTouchMove(speed.x * 30, speed.y * 30);\r\n\r\n        speed.x *= 0.8;\r\n        speed.y *= 0.8;\r\n      }, 10);\r\n    }\r\n  }\r\n\r\n  if (supportsTouch) {\r\n    i.event.bind(window, 'touchstart', globalTouchStart);\r\n    i.event.bind(window, 'touchend', globalTouchEnd);\r\n    i.event.bind(element, 'touchstart', touchStart);\r\n    i.event.bind(element, 'touchmove', touchMove);\r\n    i.event.bind(element, 'touchend', touchEnd);\r\n  }\r\n\r\n  if (supportsIePointer) {\r\n    if (window.PointerEvent) {\r\n      i.event.bind(window, 'pointerdown', globalTouchStart);\r\n      i.event.bind(window, 'pointerup', globalTouchEnd);\r\n      i.event.bind(element, 'pointerdown', touchStart);\r\n      i.event.bind(element, 'pointermove', touchMove);\r\n      i.event.bind(element, 'pointerup', touchEnd);\r\n    } else if (window.MSPointerEvent) {\r\n      i.event.bind(window, 'MSPointerDown', globalTouchStart);\r\n      i.event.bind(window, 'MSPointerUp', globalTouchEnd);\r\n      i.event.bind(element, 'MSPointerDown', touchStart);\r\n      i.event.bind(element, 'MSPointerMove', touchMove);\r\n      i.event.bind(element, 'MSPointerUp', touchEnd);\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  if (!_.env.supportsTouch && !_.env.supportsIePointer) {\r\n    return;\r\n  }\r\n\r\n  var i = instances.get(element);\r\n  bindTouchHandler(element, i, _.env.supportsTouch, _.env.supportsIePointer);\r\n};\r\n\r\n},{\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],17:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../lib/helper');\r\nvar cls = require('../lib/class');\r\nvar instances = require('./instances');\r\nvar updateGeometry = require('./update-geometry');\r\n\r\n// Handlers\r\nvar handlers = {\r\n  'click-rail': require('./handler/click-rail'),\r\n  'drag-scrollbar': require('./handler/drag-scrollbar'),\r\n  'keyboard': require('./handler/keyboard'),\r\n  'wheel': require('./handler/mouse-wheel'),\r\n  'touch': require('./handler/touch'),\r\n  'selection': require('./handler/selection')\r\n};\r\nvar nativeScrollHandler = require('./handler/native-scroll');\r\n\r\nmodule.exports = function (element, userSettings) {\r\n  userSettings = typeof userSettings === 'object' ? userSettings : {};\r\n\r\n  cls.add(element, 'ps-container');\r\n\r\n  // Create a plugin instance.\r\n  var i = instances.add(element);\r\n\r\n  i.settings = _.extend(i.settings, userSettings);\r\n  cls.add(element, 'ps-theme-' + i.settings.theme);\r\n\r\n  i.settings.handlers.forEach(function (handlerName) {\r\n    handlers[handlerName](element);\r\n  });\r\n\r\n  nativeScrollHandler(element);\r\n\r\n  updateGeometry(element);\r\n};\r\n\r\n},{\"../lib/class\":2,\"../lib/helper\":6,\"./handler/click-rail\":10,\"./handler/drag-scrollbar\":11,\"./handler/keyboard\":12,\"./handler/mouse-wheel\":13,\"./handler/native-scroll\":14,\"./handler/selection\":15,\"./handler/touch\":16,\"./instances\":18,\"./update-geometry\":19}],18:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../lib/helper');\r\nvar cls = require('../lib/class');\r\nvar defaultSettings = require('./default-setting');\r\nvar dom = require('../lib/dom');\r\nvar EventManager = require('../lib/event-manager');\r\nvar guid = require('../lib/guid');\r\n\r\nvar instances = {};\r\n\r\nfunction Instance(element) {\r\n  var i = this;\r\n\r\n  i.settings = _.clone(defaultSettings);\r\n  i.containerWidth = null;\r\n  i.containerHeight = null;\r\n  i.contentWidth = null;\r\n  i.contentHeight = null;\r\n\r\n  i.isRtl = dom.css(element, 'direction') === \"rtl\";\r\n  i.isNegativeScroll = (function () {\r\n    var originalScrollLeft = element.scrollLeft;\r\n    var result = null;\r\n    element.scrollLeft = -1;\r\n    result = element.scrollLeft < 0;\r\n    element.scrollLeft = originalScrollLeft;\r\n    return result;\r\n  })();\r\n  i.negativeScrollAdjustment = i.isNegativeScroll ? element.scrollWidth - element.clientWidth : 0;\r\n  i.event = new EventManager();\r\n  i.ownerDocument = element.ownerDocument || document;\r\n\r\n  function focus() {\r\n    cls.add(element, 'ps-focus');\r\n  }\r\n\r\n  function blur() {\r\n    cls.remove(element, 'ps-focus');\r\n  }\r\n\r\n  i.scrollbarXRail = dom.appendTo(dom.e('div', 'ps-scrollbar-x-rail'), element);\r\n  i.scrollbarX = dom.appendTo(dom.e('div', 'ps-scrollbar-x'), i.scrollbarXRail);\r\n  i.scrollbarX.setAttribute('tabindex', 0);\r\n  i.event.bind(i.scrollbarX, 'focus', focus);\r\n  i.event.bind(i.scrollbarX, 'blur', blur);\r\n  i.scrollbarXActive = null;\r\n  i.scrollbarXWidth = null;\r\n  i.scrollbarXLeft = null;\r\n  i.scrollbarXBottom = _.toInt(dom.css(i.scrollbarXRail, 'bottom'));\r\n  i.isScrollbarXUsingBottom = i.scrollbarXBottom === i.scrollbarXBottom; // !isNaN\r\n  i.scrollbarXTop = i.isScrollbarXUsingBottom ? null : _.toInt(dom.css(i.scrollbarXRail, 'top'));\r\n  i.railBorderXWidth = _.toInt(dom.css(i.scrollbarXRail, 'borderLeftWidth')) + _.toInt(dom.css(i.scrollbarXRail, 'borderRightWidth'));\r\n  // Set rail to display:block to calculate margins\r\n  dom.css(i.scrollbarXRail, 'display', 'block');\r\n  i.railXMarginWidth = _.toInt(dom.css(i.scrollbarXRail, 'marginLeft')) + _.toInt(dom.css(i.scrollbarXRail, 'marginRight'));\r\n  dom.css(i.scrollbarXRail, 'display', '');\r\n  i.railXWidth = null;\r\n  i.railXRatio = null;\r\n\r\n  i.scrollbarYRail = dom.appendTo(dom.e('div', 'ps-scrollbar-y-rail'), element);\r\n  i.scrollbarY = dom.appendTo(dom.e('div', 'ps-scrollbar-y'), i.scrollbarYRail);\r\n  i.scrollbarY.setAttribute('tabindex', 0);\r\n  i.event.bind(i.scrollbarY, 'focus', focus);\r\n  i.event.bind(i.scrollbarY, 'blur', blur);\r\n  i.scrollbarYActive = null;\r\n  i.scrollbarYHeight = null;\r\n  i.scrollbarYTop = null;\r\n  i.scrollbarYRight = _.toInt(dom.css(i.scrollbarYRail, 'right'));\r\n  i.isScrollbarYUsingRight = i.scrollbarYRight === i.scrollbarYRight; // !isNaN\r\n  i.scrollbarYLeft = i.isScrollbarYUsingRight ? null : _.toInt(dom.css(i.scrollbarYRail, 'left'));\r\n  i.scrollbarYOuterWidth = i.isRtl ? _.outerWidth(i.scrollbarY) : null;\r\n  i.railBorderYWidth = _.toInt(dom.css(i.scrollbarYRail, 'borderTopWidth')) + _.toInt(dom.css(i.scrollbarYRail, 'borderBottomWidth'));\r\n  dom.css(i.scrollbarYRail, 'display', 'block');\r\n  i.railYMarginHeight = _.toInt(dom.css(i.scrollbarYRail, 'marginTop')) + _.toInt(dom.css(i.scrollbarYRail, 'marginBottom'));\r\n  dom.css(i.scrollbarYRail, 'display', '');\r\n  i.railYHeight = null;\r\n  i.railYRatio = null;\r\n}\r\n\r\nfunction getId(element) {\r\n  return element.getAttribute('data-ps-id');\r\n}\r\n\r\nfunction setId(element, id) {\r\n  element.setAttribute('data-ps-id', id);\r\n}\r\n\r\nfunction removeId(element) {\r\n  element.removeAttribute('data-ps-id');\r\n}\r\n\r\nexports.add = function (element) {\r\n  var newId = guid();\r\n  setId(element, newId);\r\n  instances[newId] = new Instance(element);\r\n  return instances[newId];\r\n};\r\n\r\nexports.remove = function (element) {\r\n  delete instances[getId(element)];\r\n  removeId(element);\r\n};\r\n\r\nexports.get = function (element) {\r\n  return instances[getId(element)];\r\n};\r\n\r\n},{\"../lib/class\":2,\"../lib/dom\":3,\"../lib/event-manager\":4,\"../lib/guid\":5,\"../lib/helper\":6,\"./default-setting\":8}],19:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../lib/helper');\r\nvar cls = require('../lib/class');\r\nvar dom = require('../lib/dom');\r\nvar instances = require('./instances');\r\nvar updateScroll = require('./update-scroll');\r\n\r\nfunction getThumbSize(i, thumbSize) {\r\n  if (i.settings.minScrollbarLength) {\r\n    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\r\n  }\r\n  if (i.settings.maxScrollbarLength) {\r\n    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\r\n  }\r\n  return thumbSize;\r\n}\r\n\r\nfunction updateCss(element, i) {\r\n  var xRailOffset = {width: i.railXWidth};\r\n  if (i.isRtl) {\r\n    xRailOffset.left = i.negativeScrollAdjustment + element.scrollLeft + i.containerWidth - i.contentWidth;\r\n  } else {\r\n    xRailOffset.left = element.scrollLeft;\r\n  }\r\n  if (i.isScrollbarXUsingBottom) {\r\n    xRailOffset.bottom = i.scrollbarXBottom - element.scrollTop;\r\n  } else {\r\n    xRailOffset.top = i.scrollbarXTop + element.scrollTop;\r\n  }\r\n  dom.css(i.scrollbarXRail, xRailOffset);\r\n\r\n  var yRailOffset = {top: element.scrollTop, height: i.railYHeight};\r\n  if (i.isScrollbarYUsingRight) {\r\n    if (i.isRtl) {\r\n      yRailOffset.right = i.contentWidth - (i.negativeScrollAdjustment + element.scrollLeft) - i.scrollbarYRight - i.scrollbarYOuterWidth;\r\n    } else {\r\n      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\r\n    }\r\n  } else {\r\n    if (i.isRtl) {\r\n      yRailOffset.left = i.negativeScrollAdjustment + element.scrollLeft + i.containerWidth * 2 - i.contentWidth - i.scrollbarYLeft - i.scrollbarYOuterWidth;\r\n    } else {\r\n      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\r\n    }\r\n  }\r\n  dom.css(i.scrollbarYRail, yRailOffset);\r\n\r\n  dom.css(i.scrollbarX, {left: i.scrollbarXLeft, width: i.scrollbarXWidth - i.railBorderXWidth});\r\n  dom.css(i.scrollbarY, {top: i.scrollbarYTop, height: i.scrollbarYHeight - i.railBorderYWidth});\r\n}\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n\r\n  i.containerWidth = element.clientWidth;\r\n  i.containerHeight = element.clientHeight;\r\n  i.contentWidth = element.scrollWidth;\r\n  i.contentHeight = element.scrollHeight;\r\n\r\n  var existingRails;\r\n  if (!element.contains(i.scrollbarXRail)) {\r\n    existingRails = dom.queryChildren(element, '.ps-scrollbar-x-rail');\r\n    if (existingRails.length > 0) {\r\n      existingRails.forEach(function (rail) {\r\n        dom.remove(rail);\r\n      });\r\n    }\r\n    dom.appendTo(i.scrollbarXRail, element);\r\n  }\r\n  if (!element.contains(i.scrollbarYRail)) {\r\n    existingRails = dom.queryChildren(element, '.ps-scrollbar-y-rail');\r\n    if (existingRails.length > 0) {\r\n      existingRails.forEach(function (rail) {\r\n        dom.remove(rail);\r\n      });\r\n    }\r\n    dom.appendTo(i.scrollbarYRail, element);\r\n  }\r\n\r\n  if (!i.settings.suppressScrollX && i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth) {\r\n    i.scrollbarXActive = true;\r\n    i.railXWidth = i.containerWidth - i.railXMarginWidth;\r\n    i.railXRatio = i.containerWidth / i.railXWidth;\r\n    i.scrollbarXWidth = getThumbSize(i, _.toInt(i.railXWidth * i.containerWidth / i.contentWidth));\r\n    i.scrollbarXLeft = _.toInt((i.negativeScrollAdjustment + element.scrollLeft) * (i.railXWidth - i.scrollbarXWidth) / (i.contentWidth - i.containerWidth));\r\n  } else {\r\n    i.scrollbarXActive = false;\r\n  }\r\n\r\n  if (!i.settings.suppressScrollY && i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight) {\r\n    i.scrollbarYActive = true;\r\n    i.railYHeight = i.containerHeight - i.railYMarginHeight;\r\n    i.railYRatio = i.containerHeight / i.railYHeight;\r\n    i.scrollbarYHeight = getThumbSize(i, _.toInt(i.railYHeight * i.containerHeight / i.contentHeight));\r\n    i.scrollbarYTop = _.toInt(element.scrollTop * (i.railYHeight - i.scrollbarYHeight) / (i.contentHeight - i.containerHeight));\r\n  } else {\r\n    i.scrollbarYActive = false;\r\n  }\r\n\r\n  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\r\n    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\r\n  }\r\n  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\r\n    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\r\n  }\r\n\r\n  updateCss(element, i);\r\n\r\n  if (i.scrollbarXActive) {\r\n    cls.add(element, 'ps-active-x');\r\n  } else {\r\n    cls.remove(element, 'ps-active-x');\r\n    i.scrollbarXWidth = 0;\r\n    i.scrollbarXLeft = 0;\r\n    updateScroll(element, 'left', 0);\r\n  }\r\n  if (i.scrollbarYActive) {\r\n    cls.add(element, 'ps-active-y');\r\n  } else {\r\n    cls.remove(element, 'ps-active-y');\r\n    i.scrollbarYHeight = 0;\r\n    i.scrollbarYTop = 0;\r\n    updateScroll(element, 'top', 0);\r\n  }\r\n};\r\n\r\n},{\"../lib/class\":2,\"../lib/dom\":3,\"../lib/helper\":6,\"./instances\":18,\"./update-scroll\":20}],20:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar instances = require('./instances');\r\n\r\nvar upEvent = document.createEvent('Event');\r\nvar downEvent = document.createEvent('Event');\r\nvar leftEvent = document.createEvent('Event');\r\nvar rightEvent = document.createEvent('Event');\r\nvar yEvent = document.createEvent('Event');\r\nvar xEvent = document.createEvent('Event');\r\nvar xStartEvent = document.createEvent('Event');\r\nvar xEndEvent = document.createEvent('Event');\r\nvar yStartEvent = document.createEvent('Event');\r\nvar yEndEvent = document.createEvent('Event');\r\nvar lastTop;\r\nvar lastLeft;\r\n\r\nupEvent.initEvent('ps-scroll-up', true, true);\r\ndownEvent.initEvent('ps-scroll-down', true, true);\r\nleftEvent.initEvent('ps-scroll-left', true, true);\r\nrightEvent.initEvent('ps-scroll-right', true, true);\r\nyEvent.initEvent('ps-scroll-y', true, true);\r\nxEvent.initEvent('ps-scroll-x', true, true);\r\nxStartEvent.initEvent('ps-x-reach-start', true, true);\r\nxEndEvent.initEvent('ps-x-reach-end', true, true);\r\nyStartEvent.initEvent('ps-y-reach-start', true, true);\r\nyEndEvent.initEvent('ps-y-reach-end', true, true);\r\n\r\nmodule.exports = function (element, axis, value) {\r\n  if (typeof element === 'undefined') {\r\n    throw 'You must provide an element to the update-scroll function';\r\n  }\r\n\r\n  if (typeof axis === 'undefined') {\r\n    throw 'You must provide an axis to the update-scroll function';\r\n  }\r\n\r\n  if (typeof value === 'undefined') {\r\n    throw 'You must provide a value to the update-scroll function';\r\n  }\r\n\r\n  if (axis === 'top' && value <= 0) {\r\n    element.scrollTop = value = 0; // don't allow negative scroll\r\n    element.dispatchEvent(yStartEvent);\r\n  }\r\n\r\n  if (axis === 'left' && value <= 0) {\r\n    element.scrollLeft = value = 0; // don't allow negative scroll\r\n    element.dispatchEvent(xStartEvent);\r\n  }\r\n\r\n  var i = instances.get(element);\r\n\r\n  if (axis === 'top' && value >= i.contentHeight - i.containerHeight) {\r\n    // don't allow scroll past container\r\n    value = i.contentHeight - i.containerHeight;\r\n    if (value - element.scrollTop <= 1) {\r\n      // mitigates rounding errors on non-subpixel scroll values\r\n      value = element.scrollTop;\r\n    } else {\r\n      element.scrollTop = value;\r\n    }\r\n    element.dispatchEvent(yEndEvent);\r\n  }\r\n\r\n  if (axis === 'left' && value >= i.contentWidth - i.containerWidth) {\r\n    // don't allow scroll past container\r\n    value = i.contentWidth - i.containerWidth;\r\n    if (value - element.scrollLeft <= 1) {\r\n      // mitigates rounding errors on non-subpixel scroll values\r\n      value = element.scrollLeft;\r\n    } else {\r\n      element.scrollLeft = value;\r\n    }\r\n    element.dispatchEvent(xEndEvent);\r\n  }\r\n\r\n  if (!lastTop) {\r\n    lastTop = element.scrollTop;\r\n  }\r\n\r\n  if (!lastLeft) {\r\n    lastLeft = element.scrollLeft;\r\n  }\r\n\r\n  if (axis === 'top' && value < lastTop) {\r\n    element.dispatchEvent(upEvent);\r\n  }\r\n\r\n  if (axis === 'top' && value > lastTop) {\r\n    element.dispatchEvent(downEvent);\r\n  }\r\n\r\n  if (axis === 'left' && value < lastLeft) {\r\n    element.dispatchEvent(leftEvent);\r\n  }\r\n\r\n  if (axis === 'left' && value > lastLeft) {\r\n    element.dispatchEvent(rightEvent);\r\n  }\r\n\r\n  if (axis === 'top') {\r\n    element.scrollTop = lastTop = value;\r\n    element.dispatchEvent(yEvent);\r\n  }\r\n\r\n  if (axis === 'left') {\r\n    element.scrollLeft = lastLeft = value;\r\n    element.dispatchEvent(xEvent);\r\n  }\r\n\r\n};\r\n\r\n},{\"./instances\":18}],21:[function(require,module,exports){\r\n'use strict';\r\n\r\nvar _ = require('../lib/helper');\r\nvar dom = require('../lib/dom');\r\nvar instances = require('./instances');\r\nvar updateGeometry = require('./update-geometry');\r\nvar updateScroll = require('./update-scroll');\r\n\r\nmodule.exports = function (element) {\r\n  var i = instances.get(element);\r\n\r\n  if (!i) {\r\n    return;\r\n  }\r\n\r\n  // Recalcuate negative scrollLeft adjustment\r\n  i.negativeScrollAdjustment = i.isNegativeScroll ? element.scrollWidth - element.clientWidth : 0;\r\n\r\n  // Recalculate rail margins\r\n  dom.css(i.scrollbarXRail, 'display', 'block');\r\n  dom.css(i.scrollbarYRail, 'display', 'block');\r\n  i.railXMarginWidth = _.toInt(dom.css(i.scrollbarXRail, 'marginLeft')) + _.toInt(dom.css(i.scrollbarXRail, 'marginRight'));\r\n  i.railYMarginHeight = _.toInt(dom.css(i.scrollbarYRail, 'marginTop')) + _.toInt(dom.css(i.scrollbarYRail, 'marginBottom'));\r\n\r\n  // Hide scrollbars not to affect scrollWidth and scrollHeight\r\n  dom.css(i.scrollbarXRail, 'display', 'none');\r\n  dom.css(i.scrollbarYRail, 'display', 'none');\r\n\r\n  updateGeometry(element);\r\n\r\n  // Update top/left scroll to trigger events\r\n  updateScroll(element, 'top', element.scrollTop);\r\n  updateScroll(element, 'left', element.scrollLeft);\r\n\r\n  dom.css(i.scrollbarXRail, 'display', '');\r\n  dom.css(i.scrollbarYRail, 'display', '');\r\n};\r\n\r\n},{\"../lib/dom\":3,\"../lib/helper\":6,\"./instances\":18,\"./update-geometry\":19,\"./update-scroll\":20}]},{},[1]);\r\n"],"sourceRoot":"/source/"}