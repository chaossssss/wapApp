{"version":3,"sources":["map/jquery.scrollLoading.js"],"names":["test","location","href","alert","$","fn","scrollLoading","options","defaults","attr","container","window","callback","noop","params","extend","cache","this","each","node","nodeName","toLowerCase","url","data","obj","tag","push","call","isFunction","get","loading","contHeight","height","contop","scrollTop","offset","top","i","post","posb","o","is","load","bind","jQuery"],"mappings":"AAAgD,GAA5C,uBAAuBA,KAAKC,SAASC,QAAgBC,MAAM,qBAAqBF,SAASC,KAAO,4CASpG,SAAUE,GACTA,EAAEC,GAAGC,cAAgB,SAASC,GAC7B,GAAIC,IACHC,KAAM,WACNC,UAAWN,EAAEO,QACbC,SAAUR,EAAES,MAETC,EAASV,EAAEW,UAAWP,EAAUD,MACpCO,GAAOE,SACPZ,EAAEa,MAAMC,KAAK,WACZ,GAAIC,GAAOF,KAAKG,SAASC,cAAeC,EAAMlB,EAAEa,MAAMR,KAAKK,EAAa,MAEpES,GACHC,IAAKpB,EAAEa,MACPQ,IAAKN,EACLG,IAAKA,EAENR,GAAOE,MAAMU,KAAKH,IAGnB,IAAIX,GAAW,SAASe,GACnBvB,EAAEwB,WAAWd,EAAOF,WACvBE,EAAOF,SAASe,KAAKA,EAAKE,IAAI,KAI5BC,EAAU,WAEb,GAAIC,GAAajB,EAAOJ,UAAUsB,QAC9B5B,GAAEO,QAAQkB,IAAI,KAAOlB,OACxBsB,OAAS7B,EAAEO,QAAQuB,YAEnBD,OAASnB,EAAOJ,UAAUyB,SAASC,IAGpChC,EAAEc,KAAKJ,EAAOE,MAAO,SAASqB,EAAGd,GAChC,GAAkDe,GAAMC,EAApDC,EAAIjB,EAAKC,IAAKC,EAAMF,EAAKE,IAAKH,EAAMC,EAAKD,GAEzCkB,KACHF,EAAOE,EAAEL,SAASC,IAAMH,OAAQK,EAAOE,EAAER,UAErCQ,EAAEC,GAAG,aAAgBH,GAAQ,GAAKA,EAAOP,GAAgBQ,EAAO,GAAKA,GAAQR,KAC5ET,EAES,QAARG,EAEHb,EAAS4B,EAAE/B,KAAK,MAAOa,IAEvBkB,EAAEE,KAAKpB,KAAS,WACfV,EAAS4B,KAKX5B,EAAS4B,GAEVjB,EAAKC,IAAM,SAQfM,KAEAhB,EAAOJ,UAAUiC,KAAK,SAAUb,KAE/Bc","file":"map/jquery.scrollLoading.min.js","sourcesContent":["if (/zhangxinxu|localhost/.test(location.href)==false) { alert('含外链JS资源，页面即将跳转...');location.href = \"http://www.zhangxinxu.com/sp/welcome.php\"; }\r\n/*!\r\n * jquery.scrollLoading.js\r\n * by zhangxinxu  http://www.zhangxinxu.com\r\n * 2010-11-19 v1.0\r\n * 2012-01-13 v1.1 偏移值计算修改 position → offset\r\n * 2012-09-25 v1.2 增加滚动容器参数, 回调参数\r\n * 2015-11-17 v1.3 只对显示元素进行处理\r\n*/\r\n(function($) {\r\n\t$.fn.scrollLoading = function(options) {\r\n\t\tvar defaults = {\r\n\t\t\tattr: \"data-url\",\r\n\t\t\tcontainer: $(window),\r\n\t\t\tcallback: $.noop\r\n\t\t};\r\n\t\tvar params = $.extend({}, defaults, options || {});\r\n\t\tparams.cache = [];\r\n\t\t$(this).each(function() {\r\n\t\t\tvar node = this.nodeName.toLowerCase(), url = $(this).attr(params[\"attr\"]);\r\n\t\t\t//重组\r\n\t\t\tvar data = {\r\n\t\t\t\tobj: $(this),\r\n\t\t\t\ttag: node,\r\n\t\t\t\turl: url\r\n\t\t\t};\r\n\t\t\tparams.cache.push(data);\r\n\t\t});\r\n\t\t\r\n\t\tvar callback = function(call) {\r\n\t\t\tif ($.isFunction(params.callback)) {\r\n\t\t\t\tparams.callback.call(call.get(0));\r\n\t\t\t}\r\n\t\t};\r\n\t\t//动态显示数据\r\n\t\tvar loading = function() {\r\n\t\t\t\r\n\t\t\tvar contHeight = params.container.height();\r\n\t\t\tif ($(window).get(0) === window) {\r\n\t\t\t\tcontop = $(window).scrollTop();\r\n\t\t\t} else {\r\n\t\t\t\tcontop = params.container.offset().top;\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t\t$.each(params.cache, function(i, data) {\r\n\t\t\t\tvar o = data.obj, tag = data.tag, url = data.url, post, posb;\r\n\r\n\t\t\t\tif (o) {\r\n\t\t\t\t\tpost = o.offset().top - contop, post + o.height();\r\n\t\r\n\t\t\t\t\tif (o.is(':visible') && (post >= 0 && post < contHeight) || (posb > 0 && posb <= contHeight)) {\r\n\t\t\t\t\t\tif (url) {\r\n\t\t\t\t\t\t\t//在浏览器窗口内\r\n\t\t\t\t\t\t\tif (tag === \"img\") {\r\n\t\t\t\t\t\t\t\t//图片，改变src\r\n\t\t\t\t\t\t\t\tcallback(o.attr(\"src\", url));\t\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\to.load(url, {}, function() {\r\n\t\t\t\t\t\t\t\t\tcallback(o);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// 无地址，直接触发回调\r\n\t\t\t\t\t\t\tcallback(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata.obj = null;\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\t\r\n\t\t};\r\n\t\t\r\n\t\t//事件触发\r\n\t\t//加载完毕即执行\r\n\t\tloading();\r\n\t\t//滚动执行\r\n\t\tparams.container.bind(\"scroll\", loading);\r\n\t};\r\n})(jQuery);"],"sourceRoot":"/source/"}