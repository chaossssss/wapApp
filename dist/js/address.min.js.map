{"version":3,"sources":["address.js"],"names":["$","click","show","hide","document","ready","e","width","lastX","lastXForMobile","pressedObj","lastLeftObj","start","lines","len","length","i","addEventListener","changedTouches","pageX","this","touches","event","x","y","pageY","delta","Math","abs","preventDefault","diffX","animate","marginLeft","bind","clientX"],"mappings":"AAAAA,EAAE,WACAA,EAAE,eAAeC,MAAM,WACrBD,EAAE,kBAAkBE,OACpBF,EAAE,oBAAoBC,MAAM,WAC1BD,EAAE,kBAAkBG,aAQ1BH,EAAEI,UAAUC,MAAM,SAASC,GAEvBN,EAAE,wBAAwBO,MAAMP,EAAE,iBAAiBO,QAAUP,EAAE,oBAAoBO,SAEnFP,EAAE,wBAAwBO,MAAMP,EAAE,iBAAiBO,SAEnDP,EAAE,oBAAoBO,MAAMP,EAAE,wBAAwBO,QAAU,IAehE,KAAK,GAVDC,GAAOC,EAGPC,EACAC,EAGAC,EATAC,EAAQb,EAAE,wBACVc,EAAMD,EAAME,OAWPC,EAAI,EAAGA,EAAIF,IAAOE,EACvBH,EAAMG,GAAGC,iBAAiB,aAAc,SAASX,GAC7CG,EAAiBH,EAAEY,eAAe,GAAGC,MACrCT,EAAaU,IAGb,IAAIC,GAAUC,MAAMD,QAAQ,EAC5BT,IACIW,EAAGF,EAAQF,MACXK,EAAGH,EAAQI,SAInBZ,EAAMG,GAAGC,iBAAiB,YAAY,SAASX,GAE3C,GAAIe,GAAUC,MAAMD,QAAQ,EAC5BK,QACIH,EAAGF,EAAQF,MAAQP,EAAMW,EACzBC,EAAGH,EAAQI,MAAQb,EAAMY,GAIzBG,KAAKC,IAAIF,MAAMH,GAAKI,KAAKC,IAAIF,MAAMF,IACnCF,MAAMO,mBAIdhB,EAAMG,GAAGC,iBAAiB,WAAY,SAASX,GAC3C,GAAIwB,GAAQxB,EAAEY,eAAe,GAAGC,MAAQV,CACpCqB,IAAQ,KACR9B,EAAEU,GAAYqB,SAASC,WAAW,UAAW,KAC7CrB,GAAeA,GAAeD,GAC1BV,EAAEW,GAAaoB,SAASC,WAAW,KAAM,KAC7CrB,EAAcD,GACPoB,EAAQ,MACf9B,EAAEU,GAAYqB,SAASC,WAAW,KAAM,KACxCrB,EAAc,OAM1B,KAAK,GAAIK,GAAI,EAAGA,EAAIF,IAAOE,EACvBhB,EAAEa,EAAMG,IAAIiB,KAAK,YAAa,SAAS3B,GACnCE,EAAQF,EAAE4B,QACVxB,EAAaU,OAGjBpB,EAAEa,EAAMG,IAAIiB,KAAK,UAAW,SAAS3B,GACjC,GAAIwB,GAAQxB,EAAE4B,QAAU1B,CACpBsB,IAAQ,KACR9B,EAAEU,GAAYqB,SAASC,WAAW,UAAW,KAC7CrB,GAAeA,GAAeD,GAC1BV,EAAEW,GAAaoB,SAASC,WAAW,KAAM,KAC7CrB,EAAcD,GACPoB,EAAQ,MACf9B,EAAEU,GAAYqB,SAASC,WAAW,KAAM,KACxCrB,EAAc","file":"address.min.js","sourcesContent":["$(function(){\r\n  $(\"#showDialog\").click(function(){\r\n    $('#dialogConfirm').show();\r\n    $('.weui_btn_dialog').click(function(){\r\n      $('#dialogConfirm').hide();\r\n    })\r\n  })\r\n})\r\n\r\n\r\n\r\n\r\n$(document).ready(function(e) {\r\n    // 设定每一行的宽度=屏幕宽度+按钮宽度\r\n    $(\".line-scroll-wrapper\").width($(\".line-wrapper\").width() + $(\".line-btn-delete\").width());\r\n    // 设定常规信息区域宽度=屏幕宽度\r\n    $(\".line-normal-wrapper\").width($(\".line-wrapper\").width());\r\n    // 设定文字部分宽度（为了实现文字过长时在末尾显示...）\r\n    $(\".line-normal-msg\").width($(\".line-normal-wrapper\").width() - 280);\r\n\r\n    // 获取所有行，对每一行设置监听\r\n    var lines = $(\".line-normal-wrapper\");\r\n    var len = lines.length; \r\n    var lastX, lastXForMobile;\r\n\r\n    // 用于记录被按下的对象\r\n    var pressedObj;  // 当前左滑的对象\r\n    var lastLeftObj; // 上一个左滑的对象\r\n\r\n    // 用于记录按下的点\r\n    var start;\r\n\r\n    // 网页在移动端运行时的监听\r\n    for (var i = 0; i < len; ++i) {\r\n        lines[i].addEventListener('touchstart', function(e){\r\n            lastXForMobile = e.changedTouches[0].pageX;\r\n            pressedObj = this; // 记录被按下的对象 \r\n\r\n            // 记录开始按下时的点\r\n            var touches = event.touches[0];\r\n            start = { \r\n                x: touches.pageX, // 横坐标\r\n                y: touches.pageY  // 纵坐标\r\n            };\r\n        });\r\n\r\n        lines[i].addEventListener('touchmove',function(e){\r\n            // 计算划动过程中x和y的变化量\r\n            var touches = event.touches[0];\r\n            delta = {\r\n                x: touches.pageX - start.x,\r\n                y: touches.pageY - start.y\r\n            };\r\n\r\n            // 横向位移大于纵向位移，阻止纵向滚动\r\n            if (Math.abs(delta.x) > Math.abs(delta.y)) {\r\n                event.preventDefault();\r\n            }\r\n        });\r\n\r\n        lines[i].addEventListener('touchend', function(e){\r\n            var diffX = e.changedTouches[0].pageX - lastXForMobile;\r\n            if (diffX < -150) {\r\n                $(pressedObj).animate({marginLeft:\"-132px\"}, 500); // 左滑\r\n                lastLeftObj && lastLeftObj != pressedObj && \r\n                    $(lastLeftObj).animate({marginLeft:\"0\"}, 500); // 已经左滑状态的按钮右滑\r\n                lastLeftObj = pressedObj; // 记录上一个左滑的对象\r\n            } else if (diffX > 150) {\r\n                $(pressedObj).animate({marginLeft:\"0\"}, 500); // 右滑\r\n                lastLeftObj = null; // 清空上一个左滑的对象\r\n            }\r\n        });\r\n    }\r\n\r\n    // 网页在PC浏览器中运行时的监听\r\n    for (var i = 0; i < len; ++i) {\r\n        $(lines[i]).bind('mousedown', function(e){\r\n            lastX = e.clientX;\r\n            pressedObj = this; // 记录被按下的对象\r\n        });\r\n\r\n        $(lines[i]).bind('mouseup', function(e){\r\n            var diffX = e.clientX - lastX;\r\n            if (diffX < -150) {\r\n                $(pressedObj).animate({marginLeft:\"-132px\"}, 500); // 左滑\r\n                lastLeftObj && lastLeftObj != pressedObj && \r\n                    $(lastLeftObj).animate({marginLeft:\"0\"}, 500); // 已经左滑状态的按钮右滑\r\n                lastLeftObj = pressedObj; // 记录上一个左滑的对象\r\n            } else if (diffX > 150) {\r\n                $(pressedObj).animate({marginLeft:\"0\"}, 500); // 右滑\r\n                lastLeftObj = null; // 清空上一个左滑的对象\r\n            }\r\n        });\r\n    }\r\n});"],"sourceRoot":"/source/"}